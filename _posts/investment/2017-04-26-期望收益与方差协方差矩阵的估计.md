---
layout: post
title:  "期望收益与协方差矩阵的估计"
author: Hai Lan
date:   2017-04-26 11:25:38 +0800
categories: investment
tags: [投资,资产配置]
use_math: true
comments: true
---




# 简介
在现代投资组合理论中，投资组合的构造依赖于投资者对于各投资产品的收益的认知——体现在：
1. 表现其收益水平的期望收益率`$E(r_i)$`
2. 以及用来刻画其风险水平的方差`$var(r_i)=\sigma^2_i$`和收益联动性的协方差`$cov(r_i,r_j)$`

在已知这些数据的情况下，最优投资组合的构造只是一个简单的二项式优化问题。之前已做过解答。而投资问题的核心并不在于数学上优化问题的求解，而是这些参数的估计。其理由是：
- 参数敏感：投资组合优化解对于输入参数`$E(r_i)$`、`$\sigma^2_i$`和`$cov(r_i,r_j)$`是极其敏感的——输入参数的微小变化都可能带来最优投资组合的构成上极大的改变。
- 前瞻性：这些待估计的参数是前瞻性的，代表的是投资者对于未来的判断。而构造投资组合只不过是将这些对于未来的判断具体的履行的过程。谁重谁轻，一目了然。

所以我们有必要了解这些判断是如何形成的。以下，我们从历史数据以及商业分析两个角度来谈一谈。

# 历史数据法
> 未来不过是一次一次历史的重复

因此面对不确定的未来，我们可以尝试从历史中学习。了解统计学的人，往往容易采用如下假设——独立同分布。如果我们接受投资产品的未来投资收益与其历史收益是服从独立同分布的，参数估计可以由以下公式解决。
```math
E(r_i)\approx\bar{r}_i:=\frac{1}{T}\sum_{t=1}^T r_{i,t}

\sigma^2_i\approx S^2_i:=\frac{1}{T-1}\sum_{t=1}^T(r_{i,t}-\bar{r}_i)^2

cov(r_i,r_j)\approx S_{i,j}:=\frac{1}{T-2}\sum_{t=1}^T(r_{i,t}-\bar{r}_i)(r_{j,t}-\bar{r}_j)
```
如果同分布还可讨论，那么独立性的假设则和现实差距很大。无论是工业界还是学界基本都接受了投资收益某种程度上的可以预测性。因而考虑投资收益在时间上的相关性，使用时序列分析来估计参数成为一种有益的方法。

除了时间序列分析，还有一部分投资者认为收益的可预测性不只是局限于跟近期收益在时序上的相关性，还体现为其在某些特定模式下的相似性。比如技术分析学派认为在股票开盘价、最高价、最低价和收盘价基础上构造出的蜡烛图中，有一些有趣的模式——比如“三个白武士”：三次连续的收阳——暗示着股价的某种方向性变化。但是这些信息的有效性尚没有得到严格的检验——某些工业界的报告暗示其实大多数的技术指标单独的使用是没有多大价值的，再者即便这些信息是有效的，如何将它们结合到对于期望收益以及方差的估计上不是传统的贝叶斯估计能够简单回答的。当前统计学习领域的迅速发展正为这个问题提供答案。

# 商业分析
>需要光，便有了光

既然投资是价值判断的实现。那么投资问题最根本的输入就是价值判断，其必然可以通过商业分析来发现。实际上，我们在日常的投资者不乏见到或者自己形成过这样的判断。宏观的，比如债市表现将会强于股市，商品市场有望爆发等；微观的，比如京东方将会收益与OLED的发展等。问题是如何将模糊的描述性的判断数量化后成为可以计算使用的输入参数。这方面Black和Littleman在90年代做出了开创性的贡献，以其名字命名的Black-Littleman模型，我们会在后续介绍。

# `$1+1\ ?$`
>不是创新，只是自然的需要

为什么不呢？既然历史数据中有一部分有效信息，商业分析能够提供部分见解，市场的情绪可以加以利用，甚至街头巷尾的奇谈怪论也可能泄露天机，当然可以把它们都给结合起来。计算科学的发展为这种简朴的结合提供了有效的粘合剂，甚至大数据、人工智能的发展可能会体现出`$1+1>2$`的效果来——不要忘了还有叠加效果呢！

本着开放的态度，利用科学的方法，我们可以逐渐深入的分析和使用投资学。
